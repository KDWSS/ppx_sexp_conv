open! Base

;;
#verbose true

(* Not sure how much people will want to use this, considering that the input is more
   complicated and specific than the output, but they have it. *)
module type S = sig
  val t_sexp_grammar : [%sexp_grammar: int Map.M(String).t]
end

[%%expect
  {|
module type S = sig val t_sexp_grammar : Sexplib0.Grammar.t end
|}]

(* The grammar is illegible, so just make sure it builds. *)

;;
#verbose false

let (_ : _) = [%sexp_grammar: int Map.M(String).t]

[%%expect {|
|}]
