------ test_regular_variants.ml
++++++ test_polymorphic_variants.ml
@|============================================================
-|    | A
-|    | B
+|    [ `A
+|    | `B
+|    ]
@|============================================================
-|      ; ggid          = "\133a\241\019; \198\184U\181\220#\191\190\200\b"
+|      ; ggid          = "\239\242\007o\016\222\178\133\218\153\146w\129\255\167\208"
@|============================================================
-|                , Variant { ignore_capitalization = false; alts = [ "A", []; "B", [] ] }
+|                , Variant { ignore_capitalization = true; alts = [ "A", []; "B", [] ] }
@|============================================================
-|      | A of int * int
-|      | B of string
+|      [ `A of int * int
+|      | `B of string
+|      ]
@|============================================================
-|  type t = With_sexp.t =
-|    | A of int * int
-|    | B of string
+|  type t =
+|    [ `A of int * int
+|    | `B of string
+|    ]
@|============================================================
-|      ; ggid          = "\000\221\184\1337+\203J\217\230\142E{g1{"
+|      ; ggid          = "\205\129\006\167\021+\210\025\233\169\215\208\133\171\216\022"
@|============================================================
-|                { ignore_capitalization = false
+|                { ignore_capitalization = true
@|============================================================
-|                    [ "A", [ One (Implicit_var 0); One (Implicit_var 0) ]
+|                    [ "A", [ One (List [ One (Implicit_var 0); One (Implicit_var 0) ]) ]
@|============================================================
-|    print_s (With_sexp.sexp_of_t (A (1, 2)));
-|    print_s (With_sexp.sexp_of_t (B "foo"));
+|    print_s (With_sexp.sexp_of_t (`A (1, 2)));
+|    print_s (With_sexp.sexp_of_t (`B "foo"));
@|============================================================
-|      (A 1 2)
+|      (A (1 2))
@|============================================================
-|      | Int           of int
-|      | List          of int list
-|      | Sexp_dot_list of int list [@sexp.list]
-|      | Sexp_list     of int sexp_list [@warning "-3"]
+|      [ `Int           of int
+|      | `List          of int list
+|      | `Sexp_dot_list of int list[@sexp.list]
+|      | `Sexp_list     of int sexp_list[@warning "-3"]
+|      ]
@|============================================================
-|  type t = With_sexp.t =
-|    | Int           of int
-|    | List          of int list
-|    | Sexp_dot_list of int list [@sexp.list]
-|    | Sexp_list     of int sexp_list [@warning "-3"]
+|  type t =
+|    [ `Int           of int
+|    | `List          of int list
+|    | `Sexp_dot_list of int list[@sexp.list]
+|    | `Sexp_list     of int sexp_list[@warning "-3"]
+|    ]
@|============================================================
-|      ; ggid          = "\221\2240I,\229H~\212(;\201\127\159rK"
+|      ; ggid          = "\219\014J\247\148Iq\193\248\rk\216J\012\200\152"
@|============================================================
-|                { ignore_capitalization = false
+|                { ignore_capitalization = true
@|============================================================
-|    print_s (With_sexp.sexp_of_t (Int 1));
+|    print_s (With_sexp.sexp_of_t (`Int 1));
@|============================================================
-|      print_s (With_sexp.sexp_of_t (List          l ));
-|      print_s (With_sexp.sexp_of_t (Sexp_dot_list l ));
-|      print_s (With_sexp.sexp_of_t (Sexp_list     l)));
+|      print_s (With_sexp.sexp_of_t (`List          l ));
+|      print_s (With_sexp.sexp_of_t (`Sexp_dot_list l ));
+|      print_s (With_sexp.sexp_of_t (`Sexp_list     l)));
